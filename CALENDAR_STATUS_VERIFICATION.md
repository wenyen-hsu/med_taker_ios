# 📅 日曆視圖狀態顏色驗證清單

## 改進內容

### ✨ 視覺改進
1. **更大更清晰的圖示**
   - 從 8x8 點圓圈升級為 18x18 點 SF Symbol 圖示
   - 每個狀態都有對應的語義化圖示

2. **更好的佈局**
   - 改為 2x3 網格佈局（左右對齊）
   - 增加間距提升可讀性
   - 新增「無記錄」狀態說明

3. **增強的視覺層次**
   - 卡片式設計配陰影
   - 邊框線增加定義感
   - 標題字體加粗更明顯

---

## 🧪 驗證測試清單

### 準備工作
```
□ 確保已建置最新版本
□ 清理 DerivedData
□ 在模擬器或實機上運行
□ 開啟日曆頁面
```

---

### 測試 1: 視覺呈現檢查 ✓

**檢查項目：**
```
□ 狀態說明卡片顯示在日曆網格下方
□ 卡片有白色背景和淺陰影
□ 卡片有灰色邊框
□ 「狀態說明」標題清晰可見

□ 5 個圖例項目都顯示：
  □ ✅ 綠色 - 全部準時
  □ ⚠️ 黃色 - 有遲到
  □ 📊 橙色 - 部分完成
  □ ❌ 紅色 - 未完成
  □ ⚪ 灰色 - 無記錄

□ 每個圖例項目有圖示 + 文字
□ 圖示大小適中（不會太小看不清）
□ 文字與圖示對齊良好
```

---

### 測試 2: 功能正確性 - 綠色（全部準時）

**設置步驟：**
1. 新增排程：藥物 A，今天 08:00
2. 新增排程：藥物 B，今天 12:00
3. 新增排程：藥物 C，今天 20:00
4. 在 08:00 準時標記藥物 A 為已服用
5. 在 12:00 準時標記藥物 B 為已服用
6. 在 20:00 準時標記藥物 C 為已服用

**驗證：**
```
□ 今天日期格子下方顯示綠色小圓點
□ 綠色圓點清晰可見
□ 點擊今天日期，進入詳細視圖
□ 詳細視圖顯示 3/3 完成
□ 返回日曆，綠色點仍在
```

---

### 測試 3: 功能正確性 - 黃色（有遲到）

**設置步驟：**
1. 使用測試 2 的排程
2. 將藥物 B 的服用時間改為 13:30（遲到 1.5 小時）

**驗證：**
```
□ 今天日期格子下方顯示黃色小圓點
□ 黃色圓點清晰可見
□ 點擊今天日期
□ 詳細視圖顯示 3/3 完成，1 筆遲到
□ 黃色狀態與圖例中的「有遲到」匹配
```

---

### 測試 4: 功能正確性 - 橙色（部分完成）

**設置步驟：**
1. 使用測試 2 的排程
2. 只標記藥物 A 和 B 為已服用
3. 藥物 C 保持未服用狀態

**驗證：**
```
□ 今天日期格子下方顯示橙色小圓點
□ 橙色圓點清晰可見
□ 點擊今天日期
□ 詳細視圖顯示 2/3 完成
□ 橙色狀態與圖例中的「部分完成」匹配
```

---

### 測試 5: 功能正確性 - 紅色（未完成）

**設置步驟：**
1. 使用測試 2 的排程
2. 確保所有藥物都未標記為已服用
3. 時間已過預定服用時間

**驗證：**
```
□ 今天日期格子下方顯示紅色小圓點
□ 紅色圓點清晰可見
□ 點擊今天日期
□ 詳細視圖顯示 0/3 完成
□ 紅色狀態與圖例中的「未完成」匹配
```

---

### 測試 6: 功能正確性 - 無顏色（無記錄）

**設置步驟：**
1. 選擇一個沒有任何排程的日期（例如明天）

**驗證：**
```
□ 該日期格子下方沒有顏色圓點（或顯示透明）
□ 點擊該日期
□ 詳細視圖顯示「今日無用藥排程」或類似訊息
□ 符合圖例中的「無記錄」說明
```

---

### 測試 7: 跨月份切換

**操作步驟：**
1. 點擊「<」切換到上個月
2. 觀察狀態顏色
3. 點擊「>」切換到下個月
4. 觀察狀態顏色
5. 點擊「今日」按鈕（如果有）

**驗證：**
```
□ 切換月份時，日期顏色正確載入
□ 歷史記錄的顏色正確顯示
□ 未來日期沒有顏色（除非有排程）
□ 返回今日時，當前狀態正確
```

---

### 測試 8: 深色/淺色模式

**操作步驟：**
1. 在 iOS 設定中切換到深色模式
2. 檢查日曆視圖
3. 切換回淺色模式
4. 再次檢查

**驗證：**
```
淺色模式：
□ 狀態卡片背景為白色
□ 所有顏色清晰可見
□ 綠、黃、橙、紅、灰色對比度足夠
□ 文字易讀

深色模式：
□ 狀態卡片背景為深色
□ 所有顏色清晰可見
□ 顏色在深色背景上仍然明顯
□ 文字易讀
```

---

### 測試 9: 即時更新

**操作步驟：**
1. 在日曆視圖中
2. 點擊今天進入詳細視圖
3. 標記一個藥物為已服用
4. 返回日曆視圖

**驗證：**
```
□ 日期顏色立即更新（不需重新載入）
□ 顏色變化正確（例如紅→橙→黃→綠）
□ 無延遲或閃爍
□ 狀態轉換流暢
```

---

### 測試 10: 邊界情況

**測試項目：**

A. 單一藥物情況
```
□ 只有 1 個排程，準時完成 → 綠色
□ 只有 1 個排程，遲到完成 → 黃色
□ 只有 1 個排程，未完成 → 紅色
```

B. 大量藥物情況
```
□ 10+ 個排程，全部準時 → 綠色
□ 10+ 個排程，有 1 個遲到 → 黃色
□ 10+ 個排程，部分完成 → 橙色
□ 10+ 個排程，全部未完成 → 紅色
```

C. 混合狀態
```
□ 50% 準時 + 50% 未服用 → 橙色
□ 80% 準時 + 20% 遲到 → 黃色
□ 100% 完成（準時+遲到） → 黃色
```

---

## 🐛 已知問題記錄

如果在測試中發現問題，請記錄：

```
問題 #1:
描述: [描述問題]
重現步驟: [如何重現]
預期: [應該是什麼]
實際: [實際是什麼]
截圖: [如果可能]

問題 #2:
...
```

---

## ✅ 驗證完成標準

所有以下條件都滿足才算驗證通過：

```
□ 所有 10 個測試都通過
□ 深色和淺色模式都正常
□ 沒有發現重大 bug
□ 顏色邏輯與文檔一致
□ 用戶體驗流暢
```

---

## 📝 測試記錄

**測試日期**: ___________
**測試人員**: ___________
**設備**: ___________ (例如: iPhone 15 Pro, iOS 18.0)
**模式**: □ 淺色模式  □ 深色模式

**通過的測試**: _____ / 10
**發現的問題**: _____ 個

**總體評價**: □ 通過 ✓  □ 需要修正
